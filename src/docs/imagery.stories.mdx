import { Meta, Preview, Source } from '@storybook/addon-docs/blocks';
import dedent from 'ts-dedent';

<Meta title="Style Guide/Imagery" />

# Imagery

The DLP page includes several types of images.

* Background image for the [Header, aka. Title](/?path=/story/pattern-library-containers-header--page).
* Background images for [Section Intros](/?path=/story/pattern-library-containers-section-intro--page).
* Logos: [@properties](#properties-logos), [Agency](#agency-logos), [Partner](#partner-logos), and [Social](/?path=/story/pattern-library-components-social--page#brand-guidelines) logos.
* Agent profile photos. See [Figure](/?path=/story/pattern-library-components-figure--page).
* Editorial images. See [Figure](/?path=/story/pattern-library-components-figure--page).
* Property photos. See [Property](/?path=/story/pattern-library-components-property--page).

## @properties logos

* @properties logos appear in the [Header, aka. Title](/?path=/story/pattern-library-containers-header--page#properties-logo), [Navigation](/?path=/story/pattern-library-containers-navigation--page#properties-logo), and [Footer](/?path=/story/pattern-library-containers-footer--page#properties-logo). See individual components for image sizes.
* The same SVG file will be used everywhere: **public/images/intro/logo-atproperties.svg**.

## Agency logos

* Agency logos appear in the Agent, Co-Agent, and Team sections. 
* Image files are in **public/images/agent/**, **../co-agent/**, and **../team/**.
* They may be JPG or PNG.
* Logos are horizontally centered and have a max-width of 150/200px mobile/desktop.
* **Spacing**: 64/80px between the agency logo and the agent profile photo on mobile/desktop.

<Preview>
<div class="content-grid">
  <div class="col-span-full lg:col-span-14 lg:col-start-2">
    <img src="images/agent/logo-carrie-mccormick-sm.jpg" alt="Carrie McCormick Real Estate Group" class="mx-auto logo--agency" />
  </div>
</div>
</Preview>

Define the class in **src/assets/object.styles.scss**.

<Source language='scss' code={dedent`
  /* Agency logo */
  .logo--agency {
    max-width: 150px;
    @apply mb-8;              /* margin-bottom: 32px; + 32 = 64 mobile, + 48 = 80 desktop */
    @media (min-width: theme('screens.lg')) {
      max-width: 200px;
    }
  }
`} />

## Partner logos

* Partner logos appear in the Partner section. See [Partner Carousel](/?path=/story/pattern-library-components-carousel--page#marketing-assets--partners).
* Image files are in **public/images/public/**.
* They may be SVG (preferred), JPG, or PNG.
* Logos are vertically and horizontally centered and have a max-width of 302px.

## Image sizes

For performance reasons, some images will have small, medium, and large versions. Create images at sizes in increments of 16px.

<table>
  <thead>
    <tr>
      <th>Image type</th>
      <th>Small / Mobile<br />&lt; 768px</th>
      <th>Medium / Tablet<br />768 - 1280px</th>
      <th>Large / Desktop<br />1280 - 1920px</th>
      <th>Extra Large<br />&gt; 1920px</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Background images for <br />Header and Section Intros</td>
      <td>416 x 800 px <br />832 x 1600 px Retina</td>
      <td>768 x 1024 px <br />1536 x 2048 px Retina</td>
      <td>1920 x 1200 px <br />3840 x 4096 px Retina</td>
      <td>2560 x 1600 px <br />5120 x 3200 px Retina</td>
    </tr>
    <tr>
      <td>@properties logo</td>
      <td colspan="4">SVG will scale to any size</td>
    </tr>
    <tr>
      <td>Agency logos</td>
      <td colspan="2">150 px max-width <br />300 px Retina</td>
      <td colSpan="2">200 px max-width <br />400 px Retina</td>
    </tr>
    <tr>
      <td>Partner logos</td>
      <td colspan="4">SVG preferred, otherwise <br />302 px max-width <br />604 px Retina</td>
    </tr>
    <tr>
      <td>Agent profile photos (4:5)</td>
      <td>768 x 960 px <br />1536 x 1920 px Retina</td>
      <td colSpan="3">640 x 800 px <br />1280 x 1600 px Retina</td>
    </tr>
    <tr>
      <td>Editorial images (4:3)</td>
      <td colSpan="4">672 x 504 px <br />1344 x 1008 px Retina</td>
    </tr>
    <tr>
      <td>Property photos (4:3)</td>
      <td>320 x 240 px <br />640 x 480 px Retina</td>
      <td colSpan="3">240 x 180 px <br />480 x 360 px Retina</td>
    </tr>
  </tbody>
</table>

## Aspect ratios

Images can be cropped (via CSS and HTML code) to the following aspect ratios: **1:1**, 2:3, 3:2, **4:3**, 3:4, 5:4, **4:5**, **16:9** (e.g., video thumbnails). The only ratios currently in use are 1:1, 4:3, 4:5, 16:9.

<div className="grid grid-cols-16 gap-4">
  <div className="col-span-2">
    <div className="bg-primary-100 text-primary-900 ar ar--1-1 border border-primary-500 relative">
      <div className="absolute top-0 w-full h-full pt-10 text-center text-3xl"><strong>1:1</strong></div>
    </div>
  </div>
  <div className="col-span-2">
    <div className="bg-white text-primary-900 ar ar--2-3 border border-dashed border-primary-500 relative">
      <div className="absolute top-0 w-full h-full pt-10 text-center text-3xl">2:3</div>
    </div>
  </div>
  <div className="col-span-3">
    <div className="bg-white text-primary-900 ar ar--3-2 border border-dashed border-primary-500 relative">
      <div className="absolute top-0 w-full h-full pt-10 text-center text-3xl">3:2</div>
    </div>
  </div>
  <div className="col-span-3">
    <div className="bg-white text-primary-900 ar ar--3-4 border border-dashed border-primary-500 relative">
      <div className="absolute top-0 w-full h-full pt-10 text-center text-3xl">3:4</div>
    </div>
  </div>
  <div className="col-span-4">
    <div className="bg-primary-100 text-primary-900 ar ar--4-3 border border-primary-500 relative">
      <div className="absolute top-0 w-full h-full pt-10 text-center text-3xl"><strong>4:3</strong></div>
    </div>
  </div>
  <div className="col-span-4">
    <div className="bg-primary-100 text-primary-900 ar ar--4-5 border border-primary-500 relative">
      <div className="absolute top-0 w-full h-full pt-10 text-center text-3xl"><strong>4:5</strong></div>
    </div>
  </div>
  <div className="col-span-5">
    <div className="bg-white text-primary-900 ar ar--5-4 border border-dashed border-primary-500 relative">
      <div className="absolute top-0 w-full h-full pt-10 text-center text-3xl">5:4</div>
    </div>
  </div>
  <div className="col-span-5">
    <div className="bg-primary-100 text-primary-900 ar ar--16-9 border border-primary-500 relative">
      <div className="absolute top-0 w-full h-full pt-10 text-center text-3xl"><strong>16:9</strong></div>
    </div>
  </div>
</div>

**However**, there is also a rule coded into CSS that images can never exceed 80% of the viewport height. For example, an image with a tall aspect ratio like 2:3 in a layout spanning 6 columns would be very tall on large, wide (desktop) screens. In this case, it would be cropped to never exceed 80% of the viewport height (`min(80vh`), which would change the original 2:3 aspect ratio.

Define classes in **src/assets/util.styles.scss**.

<Source language='scss' code={dedent`
  /* Aspect ratio */ 
  .ar {
    @apply relative;           /* position: relative; */
    @apply block;              /* display: block; */
    @apply h-0;                /* height: 0px; */
    @apply overflow-hidden;    /* overflow: hidden; */
    img {
      @apply absolute;         /* position: absolute; */
      @apply top-0;            /* top: 0; */
      @apply left-0;           /* left: 0; */
      @apply w-full;           /* width: 100%; */
      @apply h-full;           /* height: 100%; */
      @apply object-cover;     /* object-fit: cover; */
      @apply object-top;       /* object-position: top center; */
    }
  }
  .ar--1-1 {
    padding-top: 100%;
  }
  .ar--2-3 {
    padding-top: min(80vh, calc(3/2 * 100%));
  }
  .ar--3-2 {
    padding-top: min(80vh, calc(2/3 * 100%));
  }
  .ar--4-3 {
    padding-top: min(80vh, calc(3/4 * 100%));
  }
  .ar--3-4 {
    padding-top: min(80vh, calc(4/3 * 100%));
  }
  .ar--4-5 {
    padding-top: min(80vh, calc(5/4 * 100%));
  }
  .ar--5-4 {
    padding-top: min(80vh, calc(4/5 * 100%));
  }
  .ar--16-9 {
    padding-top: min(80vh, calc(9/16 * 100%));
  }
`} />

## Writing alt text

Images should have a descriptive and accessible text alternative.
* Background images (i.e., Header, Section Intro, Company Stats) do not require a text alternative if they are purely decorative. <br />Use `alt=""` or just `alt` and `aria-hidden="true"`.
* Logos should identify the company name. If there is confusion between an agent name and an agency name, add "real estate". Example: "Olivia Carlson" (agent) vs. "Olivia Carlson Real Estate" (agency).
* Agent profile photos should identify the person(s): `alt="Firstname Lastname"` or 
`"Our team at Company Name"`.
* Editorial images should:
  * Describe what the image shows in 120 characters or less (ideally). Itâ€™s OK for more complex images to have longer descriptions.
  * A well-written text description will find very similar images if used as a Google Images search query. Examples: `"Man presenting whiteboard ideas to his team"` or `"Aerial view of a neighborhood with saltbox houses"`.
* Property images should describe the home. Examples: `"A modern glass facade home"` or `"A craftsman style country estate"`.

## Accessibility considerations

Relevant [WCAG 2.1 guidelines](https://www.w3.org/WAI/WCAG21/quickref/):

* [1.1.1 Non-text Content (Level A)](https://www.w3.org/WAI/WCAG21/quickref/#non-text-content)<br />
  All non-text content that is presented to the user has a text alternative that serves the equivalent purpose. 
* [1.4.5 Images of Text (Level AA)](https://www.w3.org/WAI/WCAG21/quickref/#images-of-text)<br />
  If the technologies being used can achieve the visual presentation, text is used to convey information rather than images of text except for the following: 1) Customizable: The image of text can be visually customized to the user's requirements; 2) Essential: A particular presentation of text is essential to the information being conveyed. 
* [1.4.9 Images of Text (No Exceptions) (Level AAA)](https://www.w3.org/WAI/WCAG21/quickref/#images-of-text-no-exception)<br />
  Images of text are only used for pure decoration or where a particular presentation of text is essential to the information being conveyed. 