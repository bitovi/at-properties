import { Meta, Preview, Source } from '@storybook/addon-docs/blocks';
import dedent from 'ts-dedent';

<Meta title="Style Guide/Structure" />

# Structure

The page follows a semantic structure using HTML5 tags. *Note*: The following code has been abbreviated for simplicity (e.g., no end/closing tags).

<Source language='html' code={dedent`
  <head>
    <title>
  <body>
    <div id="app">
      <a href="#main" class="skip-link">Skip to main content</a>
      <header class="dlp-title">
      <nav class="dlp-nav">
      <main class="dlp-main">
        <article id="agent">
        <article id="co-agent">
        <article id="team">
        <article id="company">
        <article id="technology">
        <article id="marketing">
        <article id="global-reach">
        <article id="selling">
        <article id="partners">
        <article id="community">
      <footer class="dlp-footer">
`} />

## Page Title

*Disambiguation*: This refers to the `title` tag of the HTML document, *not* the Title animation at the top of the page.

Page titles should be descriptive. Follow this template:

<Source language='html' code={dedent`
  <title>[Firstname Lastname] - [City, State Abbreviation], Luxury Real Estate Agent - [Company Name]<title>
`} />

## Skip Link

Skip links are a recommended accessibility best practice. They are invisible until focus is brought to them. (Tab to the skip link to see it.) <span class="highlight"><em>Note</em>: There is no skip link in the prototype at present.</span>

<Preview>
<div className="relative overflow-y-scroll border border-primary-900 text-base">
  <a href="#main" className="skip-link">Skip to main content</a>
  <div id="main" className="pt-40">Main content is here</div>
</div>
</Preview>

Define classes in **src/assets/page.styles.scss**.

<Source language='scss' code={dedent`
  /* Skip link */
  .skip-link {
    @apply sr-only;              /* hide the element */
    @apply bg-white;             /* background-color: theme('colors.white'); */
    @apply border-system-focus;  /* border: 1px solid theme('colors.system.focus'); */
    @apply text-xl;              /* font-size: 24px; */
    @apply p-5;                  /* padding: 20px; */
    &:focus {
      @apply not-sr-only;        /* show the element */
      @apply bg-white;           /* background-color: theme('colors.white'); */
      @apply border-system-focus;  /* border: 1px solid theme('colors.system.focus'); */
      @apply block;              /* display: block; */
      @apply text-xl;            /* font-size: 24px; */
      @apply py-3;               /* padding-top/bottom: 12px; */
      @apply px-5;               /* padding-left/right: 20px; */
      @apply absolute;           /* position: absolute; */
      top: 8px;
      left: 8px;
    }
  }
`} />

## Header, aka. Title

See [Header](/?path=/story/pattern-library-containers-header--page).

## Navigation

See [Navigation](/?path=/story/pattern-library-containers-navigation--page).

## Main Content

See [Main Content](/?path=/story/pattern-library-containers-main-content--page).

## Footer, aka. Contact section

See [Footer](/?path=/story/pattern-library-containers-footer--page).

## Modals

See [Modal](/?path=/story/pattern-library-containers-modal--page) and [Video Modal](/?path=/story/pattern-library-containers-video-modal--page).

## Layers

Content will stack along the `z-index` in the following order.

<table>
  <thead>
    <tr>
      <th className="whitespace-no-wrap">z-index</th>
      <th>File</th>
      <th>Item</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>-1</td>
      <td><strong>src/assets/dev.styles.scss</strong></td>
      <td><code>#grids</code></td>
      <td>Layout grids used to check alignment during development <em>only</em>.<br /><u>Remove from production/public code</u>.</td>
    </tr>
    <tr>
      <td>10</td>
      <td><strong>src/components/carousel/carousel.styles.scss</strong></td>
      <td><code>.swiper-scrollbar-drag</code></td>
      <td>Carousel</td>
    </tr>
    <tr>
      <td>20</td>
      <td><strong>src/stat.styles.scss</strong></td>
      <td><code>.stat-img__border</code></td>
      <td>Statistics</td>
    </tr>
    <tr>
      <td>30</td>
      <td><strong>src/components/figure/figure.styles.scss</strong></td>
      <td><code>.dlp-figure__border</code></td>
      <td>Figure - (inner) border</td>
    </tr>
    <tr>
      <td>100</td>
      <td><strong>src/components/nav/nav.styles.scss</strong></td>
      <td><code>.dlp-nav</code></td>
      <td>Navigation</td>
    </tr>
    <tr>
      <td>1000</td>
      <td><strong>src/containers/title.container.vue</strong></td>
      <td><code>.title</code></td>
      <td>Header, aka. Title</td>
    </tr>
    <tr>
      <td>9998</td>
      <td><strong>src/components/modals/</strong> <br />
      <strong>.. appearModal/appearModal.styles.scss</strong> <br />
      <strong>.. videoModal/videoModal.styles.scss</strong></td>
      <td><br />
      <code>.dlp-slide-in__wrapper</code> <br />
      <code>.dlp-video-modal__wrapper</code></td>
      <td><br />
      Modal wrapper <br />
      Video modal wrapper</td>
    </tr>
  </tbody>
</table>

## Accessibility considerations

Relevant [WCAG 2.1 guidelines](https://www.w3.org/WAI/WCAG21/quickref/):

* [1.3.1 Info and Relationships (Level A)](https://www.w3.org/WAI/WCAG21/quickref/#info-and-relationships)<br />
  Information, structure, and relationships conveyed through presentation can be programmatically determined or are available in text. 
* [1.3.2 Meaningful Sequence (Level A)](https://www.w3.org/WAI/WCAG21/quickref/#meaningful-sequence)<br />
  When the sequence in which content is presented affects its meaning, a correct reading sequence can be programmatically determined. 
* [1.3.6 Identify Purpose (Level AAA)](https://www.w3.org/WAI/WCAG21/quickref/#identify-purpose)<br />
  In content implemented using markup languages, the purpose of User Interface Components, icons, and regions can be programmatically determined. 
* [2.4.1 Bypass Blocks (Level A)](https://www.w3.org/WAI/WCAG21/quickref/#bypass-blocks)<br />
  A mechanism is available to bypass blocks of content that are repeated on multiple Web pages. 
* [2.4.2 Page Titled (Level A)](https://www.w3.org/WAI/WCAG21/quickref/#page-titled)<br />
  Web pages have titles that describe topic or purpose. 
* [2.4.3 Focus Order (Level A)](https://www.w3.org/WAI/WCAG21/quickref/#focus-order)<br />
  If a Web page can be navigated sequentially and the navigation sequences affect meaning or operation, focusable components receive focus in an order that preserves meaning and operability. 
* [2.4.10 Section Headings (Level AAA)](https://www.w3.org/WAI/WCAG21/quickref/#section-headings)<br />
  Section headings are used to organize the content. 
* [3.1.1 Language of Page (Level A)](https://www.w3.org/WAI/WCAG21/quickref/#language-of-page)<br />
  The default human language of each Web page can be programmatically determined.