import { Meta, Canvas, Source } from '@storybook/addon-docs/blocks';
import dedent from 'ts-dedent';

<Meta title="Pattern Library/Containers/Video Modal" />

# Video Modal

* Same open/close behavior and semi-transparent overlay as [Modal](/?path=/docs/pattern-library-containers-modal--page).
* **Style**: The Close button uses the light style.
* The video is centered horizontally and vertically.
* **Accessibility**: 
  * Videos are not accessible. Please follow WCAG 2.1 guidelines below.
  * **Accessibility**: When [Reduce Motion](/?path=/docs/style-guide-animation--page#reduce-motion) is on, all animations turn off.

## How to configure

Define classes in **src/components/modals/videoModal/videoModal.styles.scss**. <br />
*Note*: This SCSS would benefit from having `@apply` Tailwind classes and `/* CSS equivalent */` comments added.

<Source language='scss' code={dedent`
  /* Video Modal */
  .dlp-video-modal__wrapper {
    @apply fixed;
    @apply top-0;
    @apply left-0;
    @apply w-screen;
    @apply h-screen;
    z-index: 9998;
    overflow-x: auto;
  }
  .dlp-video-modal {
    @apply p-4;
    @apply h-full;
    transition: all 0.5s ease-in-out;
    overflow: hidden;
    //if isAnimated, start at 0 opacity
    &.hide {
      opacity: 0;
    }
  }
  .dlp-video-modal__content {
    @apply flex;
    @apply flex-col;
    @apply items-center;
    @apply justify-center;
    @apply h-full;
    @apply mx-auto;
    width: 100%;
    @media screen and (orientation:landscape) and (max-width: theme('screens.md')) {
      width: 60%;
    }
  }
  .dlp-video-modal__border {
    border: 1px solid theme('colors.white');
    padding: 8px;
    width: 100%;
    @media (min-width: theme('screens.md')) {
      padding: 12px;
    }
  }
  .dlp-video-modal__player {
    @apply p-2;
    @apply w-full;
    @apply h-full;
    position: relative;
    overflow: hidden;
    padding-top: 56.25%; /* 16:9 Aspect Ratio (divide 9 by 16 = 0.5625) */
    iframe {
      position: absolute;
      top: 0;
      left: 0;
      bottom: 0;
      right: 0;
      width: 100%;
      height: 100%;
    }
  }
`} />

## Accessibility considerations

Relevant [WCAG 2.1 guidelines](https://www.w3.org/WAI/WCAG21/quickref/):

* [1.2.1 Audio-only and Video-only (Prerecorded) (Level A)](https://www.w3.org/WAI/WCAG21/quickref/#audio-only-and-video-only-prerecorded)<br />
  For prerecorded audio-only and prerecorded video-only media, the following are true, except when the audio or video is a media alternative for text and is clearly labeled as such: 
  * Prerecorded Audio-only: An alternative for time-based media is provided that presents equivalent information for prerecorded audio-only content.
  * Prerecorded Video-only: Either an alternative for time-based media or an audio track is provided that presents equivalent information for prerecorded video-only content.
* [1.2.2 Captions (Prerecorded) (Level A)](https://www.w3.org/WAI/WCAG21/quickref/#captions-prerecorded)<br />
  Captions are provided for all prerecorded audio content in synchronized media, except when the media is a media alternative for text and is clearly labeled as such.
  * [1.2.3 Audio Description or Media Alternative (Prerecorded) (Level A)](https://www.w3.org/WAI/WCAG21/quickref/?showtechniques=122#audio-description-or-media-alternative-prerecorded)<br />
  An alternative for time-based media or audio description of the prerecorded video content is provided for synchronized media, except when the media is a media alternative for text and is clearly labeled as such.
* [1.2.5 Audio Description (Prerecorded) (Level AA)](https://www.w3.org/WAI/WCAG21/quickref/?showtechniques=122#audio-description-prerecorded)<br />
  Audio description is provided for all prerecorded video content in synchronized media.
* [1.2.6 Sign Language (Prerecorded) (Level AAA)](https://www.w3.org/WAI/WCAG21/quickref/#sign-language-prerecorded)<br />
  Sign language interpretation is provided for all prerecorded audio content in synchronized media.
* [1.2.7 Extended Audio Description (Prerecorded) (Level AAA)](https://www.w3.org/WAI/WCAG21/quickref/#extended-audio-description-prerecorded)<br />
  Where pauses in foreground audio are insufficient to allow audio descriptions to convey the sense of the video, extended audio description is provided for all prerecorded video content in synchronized media.
* [1.2.8 Media Alternative (Prerecorded) (Level AAA)](https://www.w3.org/WAI/WCAG21/quickref/#media-alternative-prerecorded)<br />
  An alternative for time-based media is provided for all prerecorded synchronized media and for all prerecorded video-only media.
* [1.4.2 Audio Control (Level A)](https://www.w3.org/WAI/WCAG21/quickref/#audio-control)<br />
  If any audio on a Web page plays automatically for more than 3 seconds, either a mechanism is available to pause or stop the audio, or a mechanism is available to control audio volume independently from the overall system volume level.
* [1.4.7 Low or No Background Audio (Level AAA)](https://www.w3.org/WAI/WCAG21/quickref/#low-or-no-background-audio)<br />
  For prerecorded audio-only content that (1) contains primarily speech in the foreground, (2) is not an audio CAPTCHA or audio logo, and (3) is not vocalization intended to be primarily musical expression such as singing or rapping, at least one of the following is true: 
  * No Background: The audio does not contain background sounds.
  * Turn Off: The background sounds can be turned off.
  * 20 dB: The background sounds are at least 20 decibels lower than the foreground speech content, with the exception of occasional sounds that last for only one or two seconds. Per the definition of "decibel," background sound that meets this requirement will be approximately four times quieter than the foreground speech content.
* [2.3.1 Three Flashes or Below Threshold (Level A)](https://www.w3.org/WAI/WCAG21/quickref/#three-flashes-or-below-threshold)<br />
  Web pages do not contain anything that flashes more than three times in any one second period, or the flash is below the general flash and red flash thresholds.
* [2.3.2 Three Flashes (Level AAA)](https://www.w3.org/WAI/WCAG21/quickref/#three-flashes)<br />
  Web pages do not contain anything that flashes more than three times in any one second period.
* [2.3.3 Animation from Interactions (Level AAA)](https://www.w3.org/WAI/WCAG21/quickref/#animation-from-interactions)<br />
  Motion animation triggered by interaction can be disabled, unless the animation is essential to the functionality or the information being conveyed.
* [3.2.1 On Focus (Level A)](https://www.w3.org/WAI/WCAG21/quickref/#on-focus)<br />
  When any user interface component receives focus, it does not initiate a change of context. 
* Include best practices from [http://web-accessibility.carnegiemuseums.org/code/dialogs/](http://web-accessibility.carnegiemuseums.org/code/dialogs/)