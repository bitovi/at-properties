import { Meta, Preview, Source } from '@storybook/addon-docs/blocks';
import dedent from 'ts-dedent';

<Meta title="Pattern Library/Components/Testimonial" />

# Testimonial

* A testimonial includes a quote and a star rating.
* Quotes will be truncated to 160 characters followed by ellipses when they appear in the Agent section, but will appear in their entirety when they load in their modal.
* Rating star icons are red (Secondary 500), 20 x 20px, with 12px between stars. Empty and half stars are not shown, only full stars. Example: A rating of 4 out of 5 stars would be shown as 4 full stars vs 4 full and 1 empty star.
* Testimonials are shown separated by a 1px light gray (Primary 100) horizontal rule, with 24px between the rule and each item.
* **Accessibility**: Notice that quotes use `<q>`, ratings have `role="img" aria-label="Rated N out of M stars"`, and star icons have `aria-hidden="true"`.
* NEED NOTE ABOUT ANIMATION

<Preview>
<div className="testimonials w-2/3">
  <div className="testimonial">
    <p><q>Carrie and her team member Anne went above and beyond with both selling our home and finding us a new place to live. We were outgrowing our condo...</q></p>
    <div className="rating" role="img" aria-label="Rated 5 out of 5 stars">
      <span aria-hidden="true">
        <svg className="icon-star"><use href="images/icons/icons.svg#icon-star-full" /></svg>
      </span>
      <span aria-hidden="true">
        <svg className="icon-star"><use href="images/icons/icons.svg#icon-star-full" /></svg>
      </span>
      <span aria-hidden="true">
        <svg className="icon-star"><use href="images/icons/icons.svg#icon-star-full" /></svg>
      </span>
      <span aria-hidden="true">
        <svg className="icon-star"><use href="images/icons/icons.svg#icon-star-full" /></svg>
      </span>
      <span aria-hidden="true">
        <svg className="icon-star"><use href="images/icons/icons.svg#icon-star-full" /></svg>
      </span>
    </div>
  </div>
  <div className="testimonial">
    <p><q>Carrie and her team are the Best! From start to finish they were on top of it! In the middle of a crisis they made everything simple easy and got the job done!..</q></p>
    <div className="rating" role="img" aria-label="Rated 5 out of 5 stars">
      <span aria-hidden="true">
        <svg className="icon-star"><use href="images/icons/icons.svg#icon-star-full" /></svg>
      </span>
      <span aria-hidden="true">
        <svg className="icon-star"><use href="images/icons/icons.svg#icon-star-full" /></svg>
      </span>
      <span aria-hidden="true">
        <svg className="icon-star"><use href="images/icons/icons.svg#icon-star-full" /></svg>
      </span>
      <span aria-hidden="true">
        <svg className="icon-star"><use href="images/icons/icons.svg#icon-star-full" /></svg>
      </span>
      <span aria-hidden="true">
        <svg className="icon-star"><use href="images/icons/icons.svg#icon-star-full" /></svg>
      </span>
    </div>
  </div>
</div>
</Preview>

## How to configure

Define classes in **src/component/testimonial/testimonial.styles.scss**.

<Source language='scss' code={dedent`
  /* Testimonial */ 
  .testimonials {
    @apply space-y-6;          /* 24px of space between items and dividers */
    @apply divide-y;           /* Place 1px horizontal dividers between items */
    @apply divide-primary-100; /* Divider color is light gray (Primary 100) */
    @apply mt-6;               /* margin-top: 24px; */
    @apply mb-8;               /* margin-top: 32px; */
    @screen lg {
      @apply mt-8;             /* margin-top: 32px; */
      @apply mb-12;            /* margin-top: 48px; */
    }
  }
  .testimonial {
    @apply pt-6;               /* padding-top: 24px; */
    &:first-child {
      @apply pt-0;             /* padding-top: 0; */
    }
  }
  /* Rating */
  .rating {
    @apply mt-4;               /* margin-top: 16px; */
    @apply mb-4;               /* margin-bottom: 16px; */
    span {
      @apply inline-block;     /* display: inline-block; */
    }
  }
  .icon-star {
    @apply text-secondary-500; /* color: theme('colors.secondary.500'); */
    @apply w-5;                /* width: 20px; */
    @apply h-5;                /* height: 20px; */
    @apply mr-3;               /* margin-right: 12px; */
  }
`} />

## Accessibility considerations

Relevant [WCAG 2.1 guidelines](https://www.w3.org/WAI/WCAG21/quickref/):

* asdf