import { Meta, Preview, Source, Story, Canvas } from '@storybook/addon-docs/blocks';
import dedent from 'ts-dedent';
import Carousel from './carousel.component.vue'
import BioCard from '../cards/bioCard/bioCard.component.vue'
import StatGrid from '../../containers/statGrid.container.vue'
import DisplayCard from '../cards/displayCard/displayCard.component.vue'

<Meta title="Pattern Library/Components/Carousel" />

# Carousel

* Carousels use [Vue Awesome Swiper](https://github.surmon.me/vue-awesome-swiper/).
* A user can scroll back and forth by grabbing and sliding the carousel stage or the horizontal scrollbar. 
* Both areas show a hand/grabber cursor to provide a visual hint to the user.
* The component uses a custom scrollbar: 1px light gray (Primary 200) track; 5px red (Secondary 500) scroll drag.
* There are 4 carousels on the page: [Team Members](#team-members), [Company Timeline](#company-timeline), [Marketing Assets](#marketing-assets--partners), [Partners](#marketing-assets--partners).
* Carousel items align to top.

## Team Members

* Items in the carousel use **src/components/cards/bioCard/**.
* Items are 160px wide on mobile, 240px wide on desktop, 3:4 aspect ratio, no border (outer or inner).
* The gap between items is 32px.
* The spacing around items is image -- 24px -- heading -- 8px -- accent -- 8px -- paragraph.
* **Accessibility**: Notice that images use `alt="Firstname Lastname"`.

<Canvas>
  <Story name="Team Members">
    {{
      components: { Carousel },
      template: `
      <dlp-carousel
        :options="{ spaceBetween: 32 }"
        :hasScrollNav="true">
        <swiper-slide>
          <dlp-bio-card source="images/team/Olivia_Main.jpg" name="Olivia Carlson" caption="Lead Broker" ar="ar--3-4" />
        </swiper-slide>
        <swiper-slide>
          <dlp-bio-card source="images/team/Paul-Headshot.jpg" name="Paul Siebert" caption="Broker" ar="ar--3-4" />
        </swiper-slide>
        <swiper-slide>
          <dlp-bio-card source="images/team/LoumenaDa.jpg" name="Dani Loumena" caption="Broker" ar="ar--3-4" />
        </swiper-slide>
        <swiper-slide>
          <dlp-bio-card source="images/team/Lindsey-Crop.jpeg" name="Lindsey Matejak" caption="Broker" ar="ar--3-4" />
        </swiper-slide>
        <swiper-slide>
          <dlp-bio-card source="images/team/david-lubega.jpeg" name="David Lubega" caption="Broker" ar="ar--3-4" />
        </swiper-slide>
      </dlp-carousel>
      `
    }}
  </Story>
</Canvas>

## Company Timeline

* Items in the carousel use **src/components/timeline/**.
* Items are 272px wide on mobile, 496px wide on desktop, 4:3 aspect ratio, no border (outer or inner).
* The gap between items is 32px on mobile, 128px on desktop.
* The spacing around items is image -- 24px -- accent -- 8px -- paragraph -- redline and dot.
* **Accessibility**: Notice that images use `alt="..."`. Read more about [writing alt text](/?path=/story/pattern-library-components-figure--page#writing-alt-text) for images (See [Figure](/?path=/story/pattern-library-components-figure--page)).

<Canvas>
  <Story name="Company Timeline">
    {{
      components: { StatGrid },
      template: `
      <dlp-timeline>
        <swiper-slide>
          <dlp-timeline-item  
              date="2000"
              alt="Modern living room"
              img="images/company/history1.jpg"
              desc="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquet quam augue massa."
              />
        </swiper-slide>
        <swiper-slide>
          <dlp-timeline-item
              date="2001"
              alt="Cozy kitchen seating"
              img="images/company/history2.jpg"
              desc="Aliquet quam augue massa. Lorem ipsum dolor sit amet, consectetur adipiscing elit."
              />
        </swiper-slide>
        <swiper-slide>
          <dlp-timeline-item  
              date="2002"
              alt="Man working from home"
              img="images/company/history3.jpg"
              desc="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquet quam augue massa."
              />
        </swiper-slide>
        <swiper-slide>
          <dlp-timeline-item
              date="2003"
              alt="Modern living room"
              img="images/company/history1.jpg"
              desc="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquet quam augue massa."
              />
        </swiper-slide>
        <swiper-slide>
          <dlp-timeline-item  
              date="2004"
              alt="Cozy kitchen seating"
              img="images/company/history2.jpg"
              desc="Aliquet quam augue massa. Lorem ipsum dolor sit amet, consectetur adipiscing elit."
              />
        </swiper-slide>
        <swiper-slide>
          <dlp-timeline-item
              date="2005"
              alt="Man working from home"
              img="images/company/history3.jpg"
              desc="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquet quam augue massa."
              />
        </swiper-slide>
      </dlp-timeline>
      `
    }}
  </Story>
</Canvas>

## Marketing Assets

* Items in the carousel use **src/components/cards/displayCard/**.
* Items are 272px wide on mobile, 496px wide on desktop, 3:2 aspect ratio, 1px medium gray border (Neutral 300).
* The gap between items is 64px.
* The padding around images is 24px top/bottom, 56px left/right on mobile, and 32px top/bottom, 96px left/right on desktop.
* The spacing around items is image -- 24px -- accent -- 8px -- heading.
* **Accessibility**: Notice that images use `alt="..."`. Read more about [writing alt text](/?path=/story/pattern-library-components-figure--page#writing-alt-text) for images (See [Figure](/?path=/story/pattern-library-components-figure--page)).

<Canvas>
  <Story name="Marketing Assets">
    {{
      components: { Carousel },
      template: `
      <dlp-carousel
        :options="{ spaceBetween: 64 }"
        :hasScrollNav="true"
        id="marketing-assets">
        <swiper-slide>
          <dlp-display-card 
              source="images/marketing/marketing-1.jpg"
              caption="Online Advertising" />
        </swiper-slide>
        <swiper-slide>
          <dlp-display-card
              source="images/marketing/marketing-2.png"
              caption="Yard Signs" />
        </swiper-slide>
        <swiper-slide>
          <dlp-display-card 
              source="images/marketing/marketing-4.png"
              caption="Social Media" />
        </swiper-slide>
        <swiper-slide>
          <dlp-display-card 
              source="images/marketing/marketing-3.jpg"
              caption="Flyers" />
        </swiper-slide>
        <swiper-slide>
          <dlp-display-card
              source="images/marketing/marketing-5.jpg"
              caption="Magazine Feature" />
        </swiper-slide>
      </dlp-carousel>
      `
    }}
  </Story>
</Canvas>

## Partners

* Same as [Marketing Assets](#marketing-assets) carousel above.

<Canvas>
  <Story name="Partners">
    {{
      components: { Carousel },
      template: `
      <dlp-carousel
        :options="{ spaceBetween: 32 }"
        :hasScrollNav="true"
        id="partners">
        <swiper-slide>
          <dlp-display-card source="images/partners/ProperTitle-Logo_horiz_blue.png" />
        </swiper-slide>
        <swiper-slide>
          <dlp-display-card source="images/partners/proper-rate.jpeg" />
        </swiper-slide>
        <swiper-slide>
          <dlp-display-card source="images/partners/at-commercial-logo.png" />
        </swiper-slide>
        <swiper-slide>
          <dlp-display-card source="images/partners/chicago-asso-realtors.jpeg" />
        </swiper-slide>
      </dlp-carousel>
      `
    }}
  </Story>
</Canvas>

## How to configure

Define classes in **src/components/carousel/carousel.styles.scss**.

<Source language='scss' code={dedent`
  /* Carousel */
  .dlp-carousel {
    .swiper-slide {
      @apply w-auto;           /* width: auto; */
      @apply max-w-full;       /* max-width: 100%; */
    }
    .dlp-carousel-nav {
      @apply my-12;            /* margin-top/bottom: 48px; */
      @apply mx-auto;          /* margin-right/left: auto; */
      width: 496px;
      max-width: 80%;
      height: 5px;
    }
    .swiper-scrollbar {
      @apply rounded-none;     /* border-radius: 0; */
      background: 0;
      &:after {
        content:"";
        @apply absolute;       /* position: absolute; */
        @apply w-full;         /* width: 100%; */
        top: 2px;
        @apply left-0;         /* left: 0px; */
        @apply border-t;         /* border-width: 1px; */ 
        @apply border-primary-200;  /* border-top: 1px solid theme('colors.primary.200'); */
      }
    }
    .swiper-scrollbar-drag {
      @apply bg-secondary-500; /* background-color: theme('colors.secondary.500'); */
      @apply rounded-none;     /* border-radius: 0; */
      cursor: pointer;
      z-index: 10;             /* z-index; 10; */
    }
  }
`} />

Define classes in **src/components/cards/bioCard/bioCard.styles.scss**.

<Source language='scss' code={dedent`
  /* Bio Card */
  .dlp-bio-card {
    @apply flex;               /* display: flex; */
    @apply flex-col;           /* flex-direction: column; */
    @apply text-center;        /* text-align: center; */
    figcaption {
      @apply pt-6;             /* padding-top: 24px; */
    }
    .dpl-bio-card__image {
      width: 160px;
      @media (min-width: theme('screens.lg')) {
        width: 240px;
      }
    }
  }
`} />

Define classes in **src/components/cards/displayCard/displayCard.styles.scss**.

<Source language='scss' code={dedent`
  /* Display Card */
  .dlp-display-card {
    @apply h-full;             /* height: 100%; */
    @apply flex;               /* display: flex; */
    @apply flex-col;           /* flex-direction: column; */
    margin-bottom: 2px;
    .dlp-display-card-content {
      @apply flex;             /* display: flex; */
      @apply flex-col;         /* flex-direction: column; */
      @apply justify-center;   /* justify-content: center; */
      @apply items-center;     /* align-items: center; */
      width: 496px;
      height: 332px;
      @apply max-w-full;       /* max-width: 100%; */
      @apply border;           /* border-width: 1px; */ 
      @apply border-primary-200;  /* border-color: theme('colors.primary.200'); */
    }
    figcaption {
      @apply text-center;      /* text-align: center; */
    }
  }
  #marketing-assets, #partners {
    .dlp-display-card-content {
      @apply mb-5;             /* margin-bottom: 20px; */
      @apply py-6;             /* padding-top/bottom: 24px; */
      @apply px-12;            /* padding-left/right: 48px; */
      @media (min-width: theme('screens.lg')) {
        @apply py-8;           /* padding-top/bottom: 32px; */
        @apply px-24;          /* padding-left/right: 96px; */
      }
    }
  }
`} />

Define classes in **src/components/timeline/timeline.styles.scss**.

<Source language='scss' code={dedent`
  /* Timeline */
  .dlp-timeline {
    @apply relative;           /* position: relative; */
    .swiper-slide {
      @apply mr-12;            /* margin-right: 48px; */
      width: 239px;
      @media (min-width: theme('screens.md')) {
        width: 274px;
      }
      @media (min-width: theme('screens.lg')) {
        width: 496px;
      }
    }
    .dlp-timeline--line {
      @apply absolute;         /* position: absolute; */
      bottom: 52px;
      height: 1px;
      @apply w-full;           /* width: 100%; */
      @apply border-b;         /* border-bottom-width: 1px; */
      @apply border-dotted;    /* border-style: dotted; */
      @apply border-neutral-300;  /* border-color: theme('colors.neutral.300'); */
    }
    .dlp-timeline-item {
      @apply flex;             /* display: flex; */
      @apply flex-col;         /* flex-direction: column; */
      min-height: 390px;
      @media (min-width: theme('screens.md')) {
        min-height: 460px;
      }
      @media (min-width: theme('screens.lg')) {
        min-height: 600px;
      }
    }
    .dlp-timeline-item--content {
      @apply mb-4;             /* margin-bottom: 16px; */
    }
    .dlp-timeline-item--img {
      height: 183px;
      @media (min-width: theme('screens.lg')) {
        height: 332px;
      }
    }
    .dlp-timeline-item--time {
      @apply flex;             /* display: flex; */
      @apply flex-col;         /* flex-direction: column; */
      @apply items-center;     /* align-items: center; */
      @apply flex-grow;        /* flex-grow: 1; */
      @apply h-full;           /* height: 100%; */
    }
    .dlp-timeline-item--pointer-line {
      width: 1px;
      @apply flex-grow;        /* flex-grow: 1; */
      @apply border-l;         /* border-left-width: 1px; */ 
      @apply border-secondary-500;  /* border-color: theme('colors.secondary.500'); */
      @apply self-center;      /* align-self: center; */
    }
    .dlp-timeline-item--pointer {
      @apply w-6;              /* width: 24px; */
      @apply h-6;              /* height: 24px; */
      @apply bg-secondary-500; /* background: theme('colors.secondary.500'); */
      @apply rounded-2xl;      /* border-radius: 16px; */
      @apply border-4;         /* border-width: 4px; */
      @apply border-white;     /* border-color: theme('colors.white'); */
      box-shadow: 0 0 0 1px theme('colors.secondary.500');
    }
    .dlp-timeline-item--date {
      @apply text-secondary-500;  /* color: theme('colors.secondary.500'); */
      @apply font-medium;      /* font-weight: 500; */
      @apply mt-4;             /* margin-top: 16px; */
    }
  }
`} />

## Accessibility considerations

Relevant [WCAG 2.1 guidelines](https://www.w3.org/WAI/WCAG21/quickref/):

* Same guidelines as for [Color](/?path=/docs/style-guide-color--page).
* Same guidelines as for [Typography](/?path=/docs/style-guide-typography--page).
* Same guidelines as for [Iconography](/?path=/docs/style-guide-iconography--page).
* Same guidelines as for [Imagery](/?path=/docs/style-guide-imagery--page).
* Same guidelines as for [Structure](/?path=/docs/style-guide-structure--page).
* Same guidelines as for [Animation](/?path=/docs/style-guide-animation--page).
* Same guidelines as for [Inclusive Design](/?path=/docs/style-guide-inclusive-design--page), specifically Keyboard Operability.