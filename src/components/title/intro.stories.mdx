import { Meta, Preview, Source } from '@storybook/addon-docs/blocks';
import dedent from 'ts-dedent';

<Meta title="Pattern Library/Containers/Section Intro" />

# Section Intro

* **Animation**:
  * When the top of the intro is at the bottom of the screen, the background image scale changes from 1 to 1.3 at the same speed as the user scrolls (scrub). The animation does not end until the bottom of the intro is at the top of the screen.
  * When the top of the intro is at the top of the screen, the intro pins in place and the background image opacity changes from 1 to 0.25 at the same speed as the user scrolls (scrub).
  * Text (hgroup) fades in and slides up (opacity changes from 0 to 1, and y changes from 50 to 0) at the same speed as the user scrolls. When the text animation is finished, the section Intro unpins.
  * The animation plays once.
  * CodePen example: [GSAP Intros v1.4](https://codepen.io/hkutcherb/pen/abmwLRv)
* **Accessibility**: When [Reduce Motion](/?path=/docs/style-guide-animation--page#reduce-motion) is on, all animations turn off.

## How to configure

Define classes in **src/components/title/title.styles.scss**. <br />
*Note*: This SCSS would benefit from having `@apply` Tailwind classes and `/* CSS equivalent */` comments added.

<Source language='scss' code={dedent`
  /* Section Intro */
  .dlp-title-page {
    @apply flex;
    @apply flex-col;
    @apply items-center;
    @apply p-6;
    @apply pb-0;
    @apply h-screen; //fallback
    height: calc(100vh - 48px);
    @apply bg-fixed;
    @apply bg-cover;
    @apply bg-no-repeat;
    background-color: rgb(0, 0, 0); 
    overflow: hidden; 
    position: relative;
    .dlp-title-page__text {
      @apply text-white;
      @apply text-center;
    }
    .dlp-title-page__image {
      @apply absolute;
      @apply w-full;
      @apply h-full;
      @apply top-0;
      @apply left-0;
      outline: 1px solid theme('colors.primary.500');
      //Build order requires this be hard coded
      outline-offset: -8px;
      @media (min-width: theme('screens.md')) {
        outline-offset: -16px;
      }
      @media (min-width: theme('screens.lg')) {
        outline-offset: -20px;
      }
      img {
        @apply w-full;
        @apply h-full;
        object-fit: cover;
        object-position: center center;
      }
    }
  }
`} />

## Accessibility considerations

Relevant [WCAG 2.1 guidelines](https://www.w3.org/WAI/WCAG21/quickref/):

* Same guidelines as for [Imagery](/?path=/docs/style-guide-imagery--page).
* Same guidelines as for [Structure](/?path=/docs/style-guide-structure--page).
* Same guidelines as for [Animation](/?path=/docs/style-guide-animation--page).