import { Meta, Preview, Source } from '@storybook/addon-docs/blocks';
import dedent from 'ts-dedent';

<Meta title="Pattern Library/Components/Button" />

# Button

* Buttons are used to open or close (toggle) **modals**. 
* Button elements can include **text**, an **icon** (e.g., X to close a modal), or text with an icon (not used for @properties).
* Buttons have two styles: **dark** for light backgrounds; **light** for dark backgrounds.

<Preview>
<div className="grid grid-cols-3">
  <div className="col-span-2 bg-white p-5 self-center">
    <div className="btn-group">
      <button className="btn btn--style-dark">
        <span className="btn__text">Read Full Bio</span>
      </button>
      <button className="btn btn--style-dark">
        <span className="btn__text">Watch Agent Video</span>
      </button>
    </div>
  </div>
  <div className="bg-primary-900 p-5 text-right">
    <button className="btn btn--style-light">
      <span className="btn__icon">
        <svg role="img" aria-label="Close">
          <use href="images/icons/icons.svg#icon-close"></use>
        </svg>
      </span>
    </button>
  </div>
</div>
</Preview>

## How to configure

Define classes in **src/components/button/button.styles.scss**.

<Source language='scss' code={dedent`
  /* Button */
  .btn {
    @apply border;             /* border-width: 1px; */
    @apply inline-block;       /* display: inline-block; */
    @apply p-1;                /* padding: 4px; */
    @apply transition-all;     /* transition-property: all; */
    @apply duration-500;       /* transition-duration: 500ms; */
    &:active, &:hover { 
      span {
        @apply bg-primary-500; /* background-color: theme('colors.primary.500'); */
        @apply text-white;     /* color: white; */
      }
    }
    &:active, &:hover { 
      @apply border-primary-500;  /* border-color: theme('colors.primary.500'); */
    }
  }
  /* Button: elements */
  .btn span {
    @apply block;              /* display: block; */
  }
  .btn__text {
    @apply text-sm;            /* font-size: theme('fontSize.sm'); */
    @apply font-medium;        /* font-weight: 500; */
    @apply tracking-widest;    /* letter-spacing: 0.10em; */
    @apply uppercase;          /* text-transform: uppercase; */
    @apply px-3;               /* padding-top/bottom: 12px; */
    @apply py-4;               /* padding-left/right: 16px; */
    @media (min-width: theme('screens.lg')) {
      @apply px-6;             /* padding-left/right: 24px; */
    }
  }
  .btn__icon {
    @apply text-base;          /* font-size: theme('fontSize.base'); */
    @apply p-3;                /* padding: 12px; */
  }
  /* Button: styles */
  .btn--style-dark {
    @apply border-primary-900;  /* border-color: theme('colors.primary.900'); */
    span {
      @apply bg-primary-900;    /* background-color: theme('colors.primary.900'); */
      @apply text-white;        /* color: white; */
    }
  }
  .btn--style-light {
    @apply border-white;        /* border-color: theme('colors.white'); */
    span {
      @apply bg-white;          /* background-color: theme('colors.white'); */
      @apply text-primary-900;  /* color: theme('colors.primary.900'); */
    }
  }
  /* Button: spacing */
  * + .btn-group {
    @apply mt-8;               /* margin-top: 32px; */
    @media (min-width: theme('screens.lg')) {
      & {
        @apply mt-12;          /* margin-top: 48px; */
      }
    }
  }
  .btn-group {
    @apply inline-flex;        /* display: inline-flex; */
    @apply flex-wrap;	         /* flex-wrap: wrap; */
    @apply gap-4;              /* gap: 16px; */
    @apply place-items-start;	 /* justify-items: start; */
    @media (min-width: theme('screens.lg')) {
      @apply gap-8;            /* gap: 32px; */
    }
  }
`} />

## Accessibility considerations

Relevant [WCAG 2.1 guidelines](https://www.w3.org/WAI/WCAG21/quickref/):

* [2.4.7 Focus Visible (Level AA)](https://www.w3.org/WAI/WCAG21/quickref/#focus-visible)<br />
  Any keyboard operable user interface has a mode of operation where the keyboard focus indicator is visible.
* [2.5.3 Label in Name (Level A)](https://www.w3.org/WAI/WCAG21/quickref/#label-in-name)<br />
  For user interface components with labels that include text or images of text, the name contains the text that is presented visually. 
* [2.5.5 Target Size (Level AAA)](https://www.w3.org/WAI/WCAG21/quickref/#target-size)<br />
  The size of the target for pointer inputs is at least 44 by 44 CSS pixels except when: 
  * Equivalent: The target is available through an equivalent link or control on the same page that is at least 44 by 44 CSS pixels;
  * Inline: The target is in a sentence or block of text;
  * User Agent Control: The size of the target is determined by the user agent and is not modified by the author;
  * Essential: A particular presentation of the target is essential to the information being conveyed.
* [3.2.1 On Focus (Level A)](https://www.w3.org/WAI/WCAG21/quickref/#on-focus)<br />
  When any user interface component receives focus, it does not initiate a change of context. 
* [3.2.2 On Input (Level A)](https://www.w3.org/WAI/WCAG21/quickref/#on-input)<br />
  Changing the setting of any user interface component does not automatically cause a change of context unless the user has been advised of the behavior before using the component.
* [3.3.2 Labels or Instructions (Level A)](https://www.w3.org/WAI/WCAG21/quickref/#labels-or-instructions)<br />
  Labels or instructions are provided when content requires user input. 